{% extends "layouts/base.html" %}
{% load render_table from django_tables2 %}


{% block title %} Inicio {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<style>
  .card-body-expanded {
   padding: 1.25rem; /* ajusta el padding según tus necesidades */
 }
</style>
{% endblock stylesheets %}

{% block content %}

    <div class="row">
      <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
            <div class="card-header card-header-warning card-header-icon">
                <div class="card-icon">
                    <i class="material-icons">content_copy</i>
                </div>
                <p class="card-category">Resultados ultimas competencias</p>
                <small class="card-category">Resumen</small>
                <h3 class="card-title">21,0ˢ/1ᵉʳ Espalda</h3>
            </div>

            <div class="card-body" id="cardBody" > <!-- Añadido para contener el botón y los datos -->
                <button onclick="mostrarOcultarDatos()" class="btn btn-primary btn-block btn-sm">Mostrar/Ocultar Datos</button>
                <div id="datos-container" style="visibility: hidden; margin-top: 10px; display: none;">
                    <!-- Aquí coloca tus datos o contenido que deseas mostrar -->
                    <ul style="list-style-type: none;" class="list-unstyled text-center">
                        <li>21,0ˢ/1ᵉʳ Espalda</li>
                        <li>21,0ˢ/1ᵉʳ Espalda</li>
                        <li>21,0ˢ/1ᵉʳ Espalda</li>
                        <li>21,0ˢ/1ᵉʳ Espalda</li>
                    </ul>
                </div>
            </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
          <div class="card-header card-header-success card-header-icon">
            <div class="card-icon">
              <i class="material-icons">store</i>
            </div>
            <p class="card-category">Fecha Siguente Competencia</p>
            <h3 class="card-title">21/01/2024</h3>
          </div>
          <div class="card-footer">
            <div class="stats">
              <h4 class="card-title">Lugar: Estadio Nacional</p>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
          <div class="card-header card-header-success card-header-icon">
            <div class="card-icon">
              <i class="material-icons">store</i>
            </div>
            <p class="card-category">Dia Entrenamiento</p>
            <h3 class="card-title">17/01/2024</h3>
            <h3 class="card-title">16:30 ʰʳˢ</h3>
          </div>
          <div class="card-footer">
            <div class="stats">
              <h4 class="card-title">Lugar: Poli Deportivo Ñuñoa</p>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="col-lg-3 col-md-6 col-sm-6">
        <div class="card card-stats">
          <div class="card-header card-header-info card-header-icon">
            <div class="card-icon">
              <i class="fa fa-twitter"></i>
            </div>
            <p class="card-category">Followers</p>
            <h3 class="card-title">+245</h3>
          </div>
          <div class="card-footer">
            <div class="stats">
              <i class="material-icons">update</i> Just Updated
            </div>
          </div>
        </div>
      </div> -->
    </div>
    <div class="row">
      <div class="col-md-4">
        <div class="card card-chart">
          <div class="card-header card-header-success">
            <div class="ct-chart" id="dailySalesChart"></div>
          </div>
          <div class="card-body">
            <h4 class="card-title">Ultima Competencia</h4>
            <!--*** Puede servir para hacer un portencaje de mejora Pulir idea
              <p class="card-category">
              <span class="text-success"><i class="fa fa-long-arrow-up"></i> 55% </span> increase in today sales.</p> -->
          </div>
          <!-- ***Ver para que puede servir/agregar fecha de ultima competencia
            <div class="card-footer">
            <div class="stats">
              <i class="material-icons">access_time</i> updated 4 minutes ago
            </div>
          </div> -->
        </div>
      </div>

      <div class="col-md-4">
        <div class="card card-chart">
          <div class="card-header card-header-warning">
            <div class="ct-chart" id="websiteViewsChart"></div>
          </div>
          <div class="card-body">
            <h4 class="card-title">Estadisticas Varias 1</h4>
            <p class="card-category">Last Campaign Performance</p>
          </div>
          <div class="card-footer">
            <div class="stats">
              <i class="material-icons">access_time</i> campaign sent 2 days ago
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card card-chart">
          <div class="card-header card-header-danger">
            <div class="ct-chart" id="completedTasksChart"></div>
          </div>
          <div class="card-body">
            <h4 class="card-title">Estadisticas Varias 2</h4>
            <p class="card-category">Last Campaign Performance</p>
          </div>
          <div class="card-footer">
            <div class="stats">
              <i class="material-icons">access_time</i> campaign sent 2 days ago
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-12 col-md-12">
        <div class="card">
          <div class="card-header card-header-warning">
            <h4 class="card-title">Listado Alumnos o Competidores</h4>
              <small class="card-category">Mismo Nivel</small>
            <!-- <p class="card-category">New employees on 15th September, 2016</p> -->
          </div>

          <!-- Agregar tabla con for de los alumnos -->
          <div class="card-body table-responsive">
            <table class="table table-severance-concepts">
              <thead>
                  <tr>
                      <th class="text-center">Nro.</th>
                      <th>Nombre</th>
                      <th class="text-left">Competencia</th>
                      <th>Tiempo</th>
                  </tr>
              </thead>
              <tbody>
                  <input type="hidden" name="form_concepts" value="1">
                  {%for students in data_student%}
                    <tr>
                        <td class="text-center">
                            {{ students.id }}
                        </td>
                        <td>
                            {{ students.name }}
                        </td>
                        <td class="text-left">
                          {{ students.get_competitiontypes_display }}
                        </td>
                        <td class="text-left">
                          {{ students.time }}
                        </td>
                  </tr>
                  {%endfor%}
              </tbody>
          </table>
          </div>

        </div>
      </div>
    </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

  <script>
    // Crea los graficos, USAR AJAX
    $(document).ready(function() {
      // Javascript method's body can be found in assets/js/demos.js
      md.initDashboardPageCharts();

    });

    function mostrarOcultarDatos() {
    var datosContainer = document.getElementById("datos-container");
    var cardBody = document.getElementById("cardBody");

    // Cambia el estado de visibilidad
    if (datosContainer.style.visibility === "hidden") {
      datosContainer.style.visibility = "visible";
      datosContainer.style.display = "block";
      cardBody.classList.add("card-body-expanded");
    } else {
      datosContainer.style.visibility = "hidden";
      datosContainer.style.display = "none";
      cardBody.classList.remove("card-body-expanded");
    }

  }

  </script>


{% endblock javascripts %}
